{% extends "index.html" %}
{% block content %}
  <main>
    <h1>Roommates at {{ complex_name }}</h1>

    {% if users %}
      <ul class="user-list">
        {% for user in users %}
          <li>
            <h3>{{ user.f_name }} {{ user.l_name }} (@{{ user.username }})</h3>
            <p><strong>Bio:</strong> {{ user.bio if user.bio else "No bio provided" }}</p>
            {% if user.preferences_list %}
              <p><strong>Lifestyle Preferences:</strong> 
                {% for pref in user.preferences_list %}
                  <span class="preference-tag">{{ pref }}</span>{% if not loop.last %}, {% endif %}
                {% endfor %}
              </p>
            {% endif %}
            <!-- Add more profile fields as needed -->
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No users found at this complex.</p>
    {% endif %}
  </main>
{% endblock %}
